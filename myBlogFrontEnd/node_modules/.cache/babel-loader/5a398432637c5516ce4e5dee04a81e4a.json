{"ast":null,"code":"import _regeneratorRuntime from\"/Users/deepikajha/Documents/MSIS/Summer2021/ReactProjects/my-blog/myBlogFrontEnd/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/deepikajha/Documents/MSIS/Summer2021/ReactProjects/my-blog/myBlogFrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/deepikajha/Documents/MSIS/Summer2021/ReactProjects/my-blog/myBlogFrontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import ArticleList from\"../components/ArticleList.js\";import React,{useState,useEffect}from'react';import NotFound from\"./NotFound.js\";import articleContent from\"./ArticleContentJson.js\";import CommentsList from\"../components/CommentsList\";import AddCommentForm from'../components/AddCommentForm';import UpvotesSection from\"../components/UpvotesSection\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Article(_ref){var match=_ref.match;var name=match.params.name;var article=articleContent.find(function(article){return article.name===name;});var _useState=useState({upvotes:0,comments:[]}),_useState2=_slicedToArray(_useState,2),articleInfo=_useState2[0],setArticleInfo=_useState2[1];console.log(articleInfo);useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/articles/\".concat(name));case 2:result=_context.sent;_context.next=5;return result.json();case 5:body=_context.sent;console.log(body);setArticleInfo(body);case 8:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[name]);if(!article)return/*#__PURE__*/_jsx(NotFound,{});var otherArticles=articleContent.filter(function(article){return article.name!==name;});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:article.title}),/*#__PURE__*/_jsx(UpvotesSection,{articleName:name,upvotes:articleInfo.upvotes,setArticleInfo:setArticleInfo}),article.content.map(function(paragraph,key){return/*#__PURE__*/_jsx(\"p\",{children:paragraph},key);}),/*#__PURE__*/_jsx(CommentsList,{comments:articleInfo.comments}),/*#__PURE__*/_jsx(AddCommentForm,{articleName:name,setArticleInfo:setArticleInfo}),/*#__PURE__*/_jsx(\"h3\",{children:\"Other Articles\"}),/*#__PURE__*/_jsx(ArticleList,{articles:otherArticles})]});}export default Article;","map":{"version":3,"sources":["/Users/deepikajha/Documents/MSIS/Summer2021/ReactProjects/my-blog/myBlogFrontEnd/src/pages/Article.js"],"names":["ArticleList","React","useState","useEffect","NotFound","articleContent","CommentsList","AddCommentForm","UpvotesSection","Article","match","name","params","article","find","upvotes","comments","articleInfo","setArticleInfo","console","log","fetchData","fetch","result","json","body","otherArticles","filter","title","content","map","paragraph","key"],"mappings":"seAAA,MAAOA,CAAAA,WAAP,KAAwB,8BAAxB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,eAArB,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,C,6IACA,QAASC,CAAAA,OAAT,MAA4B,IAATC,CAAAA,KAAS,MAATA,KAAS,CACxB,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaD,IAA1B,CACA,GAAME,CAAAA,OAAO,CAAGR,cAAc,CAACS,IAAf,CAAoB,SAAAD,OAAO,QAAIA,CAAAA,OAAO,CAACF,IAAR,GAAiBA,IAArB,EAA3B,CAAhB,CACA,cAAsCT,QAAQ,CAAC,CAAEa,OAAO,CAAE,CAAX,CAAcC,QAAQ,CAAE,EAAxB,CAAD,CAA9C,wCAAOC,WAAP,eAAoBC,cAApB,eACAC,OAAO,CAACC,GAAR,CAAYH,WAAZ,EACAd,SAAS,CAAC,UAAM,CACZ,GAAMkB,CAAAA,SAAS,2FAAG,yKACOC,CAAAA,KAAK,yBAAkBX,IAAlB,EADZ,QACRY,MADQ,qCAEKA,CAAAA,MAAM,CAACC,IAAP,EAFL,QAERC,IAFQ,eAGdN,OAAO,CAACC,GAAR,CAAYK,IAAZ,EACAP,cAAc,CAACO,IAAD,CAAd,CAJc,sDAAH,kBAATJ,CAAAA,SAAS,2CAAf,CAMAA,SAAS,GACZ,CARQ,CAQN,CAACV,IAAD,CARM,CAAT,CAUA,GAAI,CAACE,OAAL,CACI,mBAAO,KAAC,QAAD,IAAP,CAEJ,GAAMa,CAAAA,aAAa,CAAGrB,cAAc,CAACsB,MAAf,CAAsB,SAAAd,OAAO,QAAIA,CAAAA,OAAO,CAACF,IAAR,GAAiBA,IAArB,EAA7B,CAAtB,CAEA,mBACI,wCACI,oBAAKE,OAAO,CAACe,KAAb,EADJ,cAEI,KAAC,cAAD,EAAgB,WAAW,CAAEjB,IAA7B,CAAmC,OAAO,CAAEM,WAAW,CAACF,OAAxD,CAAiE,cAAc,CAAEG,cAAjF,EAFJ,CAGKL,OAAO,CAACgB,OAAR,CAAgBC,GAAhB,CAAoB,SAACC,SAAD,CAAYC,GAAZ,qBACjB,mBAAcD,SAAd,EAAQC,GAAR,CADiB,EAApB,CAHL,cAMI,KAAC,YAAD,EAAc,QAAQ,CAAEf,WAAW,CAACD,QAApC,EANJ,cAOI,KAAC,cAAD,EAAgB,WAAW,CAAEL,IAA7B,CAAmC,cAAc,CAAEO,cAAnD,EAPJ,cAQI,sCARJ,cASI,KAAC,WAAD,EAAa,QAAQ,CAAEQ,aAAvB,EATJ,GADJ,CAeH,CAED,cAAejB,CAAAA,OAAf","sourcesContent":["import ArticleList from \"../components/ArticleList.js\";\nimport React, { useState, useEffect } from 'react';\nimport NotFound from \"./NotFound.js\";\nimport articleContent from \"./ArticleContentJson.js\";\nimport CommentsList from \"../components/CommentsList\";\nimport AddCommentForm from '../components/AddCommentForm';\nimport UpvotesSection from \"../components/UpvotesSection\";\nfunction Article({ match }) {\n    const name = match.params.name;\n    const article = articleContent.find(article => article.name === name);\n    const [articleInfo, setArticleInfo] = useState({ upvotes: 0, comments: [] });\n    console.log(articleInfo);\n    useEffect(() => {\n        const fetchData = async () => {\n            const result = await fetch(`/api/articles/${name}`);\n            const body = await result.json();\n            console.log(body);\n            setArticleInfo(body);\n        }\n        fetchData();\n    }, [name]);\n\n    if (!article)\n        return <NotFound />\n\n    const otherArticles = articleContent.filter(article => article.name !== name)\n\n    return (\n        <>\n            <h1>{article.title}</h1>\n            <UpvotesSection articleName={name} upvotes={articleInfo.upvotes} setArticleInfo={setArticleInfo} />\n            {article.content.map((paragraph, key) => (\n                <p key={key}>{paragraph}</p>\n            ))}\n            <CommentsList comments={articleInfo.comments} />\n            <AddCommentForm articleName={name} setArticleInfo={setArticleInfo} />\n            <h3>Other Articles</h3>\n            <ArticleList articles={otherArticles}></ArticleList>\n\n        </>\n    )\n\n}\n\nexport default Article;"]},"metadata":{},"sourceType":"module"}